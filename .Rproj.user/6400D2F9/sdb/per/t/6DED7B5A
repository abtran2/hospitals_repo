{
    "contents" : "\n# Bring in csv\n\n# For loop \n\n# Go through every line...\n\n\n# If the first line isn't blank, then first column in row is name of hospital\n# Check for Hospital Total Margins, Private Payment to Cost Ratio, Medicare Payment to Cost Ratio, Medicade Payment to Cost Ratio\n# Uncompensated Care Cost, Uncompoensated Care % of Total Expenses, Discharges, ALOS, Staffed Beds, Occupancy of staffed beds\n# Full Time Equivalent Employees, Total Case Mix Index, Medical Asistance, Medicaid, Champus/Tricare\n# Emergency Room - Treated and Admitted, Emergency Room - Treated and Discharged, Total Emergency Room Visits\n# If 16, 18, 20, 22, 24, 26, 28, 30... 70, then create new row.\n\n\na <- c(\"Hospital\",\"Type\",\"2010\",\"2011\",\"2012\",\"2013\")\nb <- c(\"test name\", \"test type\", \"$282,123,120\", \"$282,123,120\", \"$282,123,120\", \"$282,123,120\")\ng <- rbind(a,b)\n\ncolnames(g) <- c(\"Hospital\", \"Type\", \"y2010\", \"y2011\", \"y2012\", \"y2013\")\n\n\nhospitals <- read.csv(\"hospital_list.csv\", stringsAsFactors=F)\n\nhospital_name <- hospitals[1,2]\nhospital_name_num <- 1\ntype <- \"test\"\n\n\nhosp_length <- 1:nrow(hospitals)\n\nfor (i in hosp_length) {\n\n  if(hospitals[i,2] == \"16\" | hospitals[i,2] == \"18\"| hospitals[i,2] == \"20\" | hospitals[i,2] == \"22\" | \n       hospitals[i,2] == \"24\" | hospitals[i,2] == \"26\" | hospitals[i,2] == \"28\" | \n       hospitals[i,2] == \"30\" | hospitals[i,2] == \"32\" | hospitals[i,2] == \"34\" | hospitals[i,2] == \"36\" | hospitals[i,2] == \"38\" | hospitals[i,2] == \"40\" | hospitals[i,2] == \"42\" |\n       hospitals[i,2] == \"44\" | hospitals[i,2] == \"46\" | hospitals[i,2] == \"48\" | hospitals[i,2] == \"50\" | hospitals[i,2] == \"52\" | hospitals[i,2] == \"54\" | hospitals[i,2] == \"56\" | \n       hospitals[i,2] == \"58\" | hospitals[i,2] == \"60\" | hospitals[i,2] == \"62\" | hospitals[i,2] == \"64\" | hospitals[i,2] == \"66\" | hospitals[i,2] == \"68\" | hospitals[i,2] == \"70\" | hospitals[i,2] ==\"72\"\n        ){\n        hospital_name_num <- i+1\n        hospital_name <- hospitals[hospital_name_num,2]\n  } else if(hospitals[i,2]==\"Hospital Total Margins\" | hospitals[i,2] == \"Private Payment to Cost Ratio\" | \n              hospitals[i,2] == \"Medicare Payment to Cost Ratio\"| hospitals[i,2] == \"Medicaid Payment to Cost Ratio\" | \n              hospitals[i,2] == \"Uncompensated Care Cost\" | hospitals[i,2] == \"Uncompensated Care % of Total Expenses\" | \n              hospitals[i,2] == \"Discharges\" | hospitals[i,2] == \"ALOS\" | hospitals[i,2] == \"Staffed Beds\" | \n              hospitals[i,2] == \"Occupancy of staffed beds\" | hospitals[i,2] == \"Full Time Equivalent Employees\" | \n              hospitals[i,2] == \"Total Case Mix Index\" |  \n              hospitals[i,2] == \"Champus / TRICARE\" | hospitals[i,2] == \"Emergency Room - Treated and Admitted\" | \n              hospitals[i,2] == \"Emergency Room - Treated and Discharged\" | \n              hospitals[i,2] == \"Total Emergency Room Visits\" ) {\n        type <- hospitals[i,2]\n        y2010 <- hospitals[i,3]\n        y2011 <- hospitals[i,4]\n        y2012 <- hospitals[i,5]\n        y2013 <- hospitals[i,6]\n        h <- c(hospital_name, type, y2010, y2011, y2012, y2013)\n        g <- rbind (g,h)\n  } else if(hospitals[i,2]==\"Medicare\" && hospitals[i+1,2]==\"Medical Assistance\") {\n    type <- hospitals[i,2]\n    y2010 <- hospitals[i,3]\n    y2011 <- hospitals[i,4]\n    y2012 <- hospitals[i,5]\n    y2013 <- hospitals[i,6]\n    h <- c(hospital_name, type, y2010, y2011, y2012, y2013)\n    g <- rbind (g,h)\n  } else if(hospitals[i,2]==\"Medicaid\" && hospitals[i+1,2]==\"Other Medical Assistance\") {\n    type <- hospitals[i,2]\n    y2010 <- hospitals[i,3]\n    y2011 <- hospitals[i,4]\n    y2012 <- hospitals[i,5]\n    y2013 <- hospitals[i,6]\n    h <- c(hospital_name, type, y2010, y2011, y2012, y2013)\n    g <- rbind (g,h)\n  }\n}  \n  \ndatag <- data.frame(g)\ndatag <- datag[-1,]\ndatag <- datag[-1,]\n\n\nwrite.csv(datag, \"datag.csv\")\n\n\n\na <- c(\"Hospital\",\"Type\",\"2010\",\"2011\",\"2012\",\"2013\")\nb <- c(\"test name\", \"test type\", \"$282,123,120\", \"$282,123,120\", \"$282,123,120\", \"$282,123,120\")\ng <- rbind(a,b)\n\n\ncolnames(g) <- c(\"Hospital\", \"Type\", \"y2006\", \"y2007\", \"y2008\", \"y2009\")\n\n\nhospitals <- read.csv(\"fs_report2009.csv\", stringsAsFactors=F)\n\nhospital_name <- hospitals[1,2]\nhospital_name_num <- 1\n\n\nhosp_length <- 1:nrow(hospitals)\n\nfor (i in hosp_length) {\n  \n  if(hospitals[i,2] == \"21\" | hospitals[i,2] == \"24\"| hospitals[i,2] == \"27\" | hospitals[i,2] == \"30\" | \n       hospitals[i,2] == \"33\" | hospitals[i,2] == \"36\" | hospitals[i,2] == \"39\" | \n       hospitals[i,2] == \"42\" | hospitals[i,2] == \"45\" | hospitals[i,2] == \"48\" | hospitals[i,2] == \"51\" | hospitals[i,2] == \"54\" | hospitals[i,2] == \"57\" | hospitals[i,2] == \"60\" |\n       hospitals[i,2] == \"63\" | hospitals[i,2] == \"66\" | hospitals[i,2] == \"69\" | hospitals[i,2] == \"72\" | hospitals[i,2] == \"75\" | hospitals[i,2] == \"78\" | hospitals[i,2] == \"81\" | \n       hospitals[i,2] == \"84\" | hospitals[i,2] == \"87\" | hospitals[i,2] == \"90\" | hospitals[i,2] == \"93\" | hospitals[i,2] == \"96\" | hospitals[i,2] == \"99\" | hospitals[i,2] == \"102\" | hospitals[i,2] ==\"105\"\n  ){\n    hospital_name_num <- i+1\n    hospital_name <- hospitals[hospital_name_num,2]\n  } else if(hospitals[i,2]==\"Hospital Total Margins\" | hospitals[i,2] == \"Private Payment to Cost Ratio\" | \n              hospitals[i,2] == \"Medicare Payment to Cost Ratio\"| hospitals[i,2] == \"Medicaid Payment to Cost Ratio\" | \n              hospitals[i,2] == \"Uncompensated Care Cost\" | hospitals[i,2] == \"Uncompensated care % of total expenses\" | \n              hospitals[i,2] == \"Total Discharges\" | hospitals[i,2] == \"ALOS\" | hospitals[i,2] == \"Staffed Beds\" | \n              hospitals[i,2] == \"Occupancy of staffed beds\" | hospitals[i,2] == \"Full Time Equivalent Employees\" | \n              hospitals[i,2] == \"Total Case Mix Index\" | hospitals[i,2] == \"Emergency Room - Treated and Admitted\" | \n              hospitals[i,2] == \"Emergency Room - Treated and Discharged\" | \n              hospitals[i,2] == \"Total Emergency Room Visits\" ) {\n    type <- hospitals[i,2]\n    y2010 <- hospitals[i,3]\n    y2011 <- hospitals[i,4]\n    y2012 <- hospitals[i,5]\n    y2013 <- hospitals[i,6]\n    h <- c(hospital_name, type, y2010, y2011, y2012, y2013)\n    g <- rbind (g,h)\n  } else if(hospitals[i,2]==\"Medicare\" && hospitals[i-2,2]==\"DISCHARGES\") {\n    type <- hospitals[i,2]\n    y2010 <- hospitals[i,3]\n    y2011 <- hospitals[i,4]\n    y2012 <- hospitals[i,5]\n    y2013 <- hospitals[i,6]\n    h <- c(hospital_name, type, y2010, y2011, y2012, y2013)\n    g <- rbind (g,h)\n  } else if(hospitals[i,2]==\"Medicaid\" && hospitals[i-4,2]==\"DISCHARGES\") {\n    type <- hospitals[i,2]\n    y2010 <- hospitals[i,3]\n    y2011 <- hospitals[i,4]\n    y2012 <- hospitals[i,5]\n    y2013 <- hospitals[i,6]\n    h <- c(hospital_name, type, y2010, y2011, y2012, y2013)\n    g <- rbind (g,h)\n  } else if(hospitals[i,2]==\"Champus / TRICARE\" && hospitals[i-6,2]==\"DISCHARGES\") {\n    type <- hospitals[i,2]\n    y2010 <- hospitals[i,3]\n    y2011 <- hospitals[i,4]\n    y2012 <- hospitals[i,5]\n    y2013 <- hospitals[i,6]\n    h <- c(hospital_name, type, y2010, y2011, y2012, y2013)\n    g <- rbind (g,h)\n  }\n}  \n\ndatag <- data.frame(g)\ndatag <- datag[-1,]\ndatag <- datag[-1,]\ndatag$Type <- gsub(\"Total Discharges\", \"Discharges\", datag$Type)\ndatag$Type <- gsub(\"Uncompensated care % of total expenses\", \"Uncompensated care % of Total Expenses\", datag$Type)\ndatag$Hospital <- gsub(\"(Note: Johnson Memorial Hospital financial statements were not audited in FY 2007 - FY 2009.)\", \"LAWRENCE & MEMORIAL HOSPITAL\", datag$Hospital)\n\n\n\nwrite.csv(datag, \"datah.csv\")\n\n\n# joining\nlibrary(plyr)\npre <- read.csv(\"datag.csv\", stringsAsFactors=F)\npost <- read.csv(\"datah.csv\", stringsAsFactors=F) \n\ncomplete <- merge(post, pre, by=c(\"Hospital\",\"Type\"))\n\nwrite.csv(complete, \"complete.csv\")\n",
    "created" : 1441809228479.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4027296367",
    "id" : "6DED7B5A",
    "lastKnownWriteTime" : 1426168325,
    "path" : "~/Documents/Github/hospitals/hospital_fund_cleaner.R",
    "project_path" : "hospital_fund_cleaner.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}